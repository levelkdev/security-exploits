pragma solidity ^0.4.18;

contract SimpleDAO {
  mapping(address => uint256) public userBalances;

  event AddToBalance(address _address, uint256 amount);
  event WithdrawBalance(address _address, uint256 amount);

  function addToBalance() public payable {
    AddToBalance(msg.sender, msg.value);
    userBalances[msg.sender] += msg.value;
  }

  function withdrawBalance() public {
    uint256 amountToWithdraw = userBalances[msg.sender];
    WithdrawBalance(msg.sender, amountToWithdraw);
    require(msg.sender.call.value(amountToWithdraw)());
    userBalances[msg.sender] = 0;
  }
}
